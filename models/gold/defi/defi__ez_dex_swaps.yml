version: 2

models:
  - name: defi__ez_dex_swaps
    description: |-
      DEX Swaps on the NEAR blockchain, with label and price data joined in for ease of use (where available).
      Note - view updated February 2024 to use the same v2 Swaps model as fact_dex_swaps.
      TOKEN_IN and TOKEN_OUT are now SYMBOL_IN/OUT.
      POOL ID is found in the SWAP_INPUT_DATA, where available.
    columns:
      - name: BLOCK_ID
        description: "{{ doc('block_id')}}"

      - name: BLOCK_TIMESTAMP
        description: "{{ doc('block_timestamp')}}"

      - name: TX_HASH
        description: "{{ doc('tx_hash')}}"

      - name: SWAP_ID
        description: "{{ doc('swap_id')}}"

      - name: PLATFORM
        description: "{{ doc('platform')}}"

      - name: TRADER
        description: "{{ doc('trader')}}"

      - name: POOL_ID
        description: "{{ doc('pool_id')}}"

      - name: TOKEN_IN_SYMBOL
        description: "{{ doc('symbol')}}"

      - name: TOKEN_IN
        description: "{{ doc('token_in')}}"

      - name: AMOUNT_IN_RAW
        description: "{{ doc('amount_raw')}}"

      - name: AMOUNT_IN
        description: "{{ doc('amount_in')}}"

      - name: TOKEN_OUT
        description: "{{ doc('token_out')}}"

      - name: TOKEN_OUT_SYMBOL
        description: "{{ doc('symbol')}}"

      - name: AMOUNT_OUT_RAW
        description: "{{ doc('amount_raw')}}"
          
      - name: AMOUNT_OUT
        description: "{{ doc('amount_out')}}"

      - name: EZ_DEX_SWAPS_ID
        description: "{{doc('id')}}"

      - name: INSERTED_TIMESTAMP
        description: "{{doc('inserted_timestamp')}}"

      - name: MODIFIED_TIMESTAMP
        description: "{{doc('modified_timestamp')}}"
