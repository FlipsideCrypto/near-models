version: 2
models:
  - name: stats__ez_core_metrics_hourly
    description: |-
      This easy-access table contains NEAR Protocol core blockchain metrics with hourly aggregation and USD fee calculations for streamlined analytics. It serves as the primary analytics-ready table for blockchain performance data in the gold layer, providing normalized access to transaction volumes, success rates, unique address counts, and fee structures. The model transforms raw metrics data from silver_stats__core_metrics_block_hourly and silver_stats__core_metrics_hourly into structured columns with price data from silver__complete_token_prices for efficient querying and analysis. It includes critical metrics such as block counts, transaction volumes, success/failure rates, unique address activity, and fee collections in both native and USD terms. This table is essential for blockchain performance analytics, network health monitoring, user activity tracking, and economic activity analysis. The data flows from core blockchain data with hourly aggregation and price data joined to provide complete metrics context. This table represents the most user-friendly view of NEAR network performance, enabling detailed analysis of network growth, user adoption, and economic activity patterns.

    columns:
      - name: BLOCK_TIMESTAMP_HOUR
        description: '{{ doc("block_timestamp_hour") }}'
      - name: BLOCK_NUMBER_MIN
        description: '{{ doc("block_number_min") }}'
      - name: BLOCK_NUMBER_MAX
        description: '{{ doc("block_number_max") }}'
      - name: BLOCK_COUNT
        description: '{{ doc("block_count") }}'
      - name: TRANSACTION_COUNT
        description: '{{ doc("transaction_count") }}'
      - name: TRANSACTION_COUNT_SUCCESS
        description: '{{ doc("transaction_count_success") }}'
      - name: TRANSACTION_COUNT_FAILED
        description: '{{ doc("transaction_count_failed") }}'
      - name: UNIQUE_FROM_COUNT
        description: '{{ doc("unique_from_count") }}'
      - name: UNIQUE_TO_COUNT
        description: '{{ doc("unique_to_count") }}'
      - name: TOTAL_FEES_NATIVE
        description: '{{ doc("total_fees_native") }}'
      - name: TOTAL_FEES_USD
        description: '{{ doc("total_fees_usd") }}'
      - name: EZ_CORE_METRICS_HOURLY_ID
        description: '{{ doc("id") }}'
      - name: INSERTED_TIMESTAMP
        description: '{{ doc("inserted_timestamp") }}'
      - name: MODIFIED_TIMESTAMP
        description: '{{ doc("modified_timestamp") }}'
